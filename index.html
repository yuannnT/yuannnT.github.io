<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>你適合哪種類型的狗狗？</title>

<style>
:root {
  --bg: #f5f6fa;
  --text: #222;
  --card: #ffffff;
  --accent: #6c63ff;
  --border: #e0e0e0;
}

.dark-mode {
  --bg: #1a1a1a;
  --text: #f0f0f0;
  --card: #2a2a2a;
  --accent: #8f88ff;
  --border: #444;
}

body {
  margin: 0;
  font-family: "Noto Sans TC", sans-serif;
  background: var(--bg);
  color: var(--text);
  transition: 0.3s ease;
}

.header {
  padding: 18px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

h2, h3 {
  margin-top: 0;
}

button {
  padding: 10px 16px;
  border: none;
  cursor: pointer;
  background: var(--accent);
  color: white;
  border-radius: 6px;
  font-size: 16px;
  transition: 0.2s;
}

button:hover { opacity: 0.9; }

.container {
  max-width: 720px;
  margin: auto;
  padding: 20px;
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  margin-top: 20px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
}

.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-top: 20px;
}

.type-box {
  border: 1px solid var(--border);
  padding: 16px;
  border-radius: 10px;
  background: var(--card);
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  text-align: center;
}

.carousel-container {
  position: relative;
  width: 100%;
  overflow: hidden;
  border-radius: 10px;
  margin-top: 20px;
}

.carousel-track {
  display: flex;
  transition: transform 0.35s ease;
}

.carousel-item {
  min-width: 100%;
  text-align: center;
}

.carousel-image {
  width: 100%;
  height: 260px;
  object-fit: cover;
  border-radius: 10px;
}

.carousel-label {
  margin-top: 6px;
  font-weight: bold;
  font-size: 16px;
}

.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: var(--accent);
  color: white;
  padding: 8px 12px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
}

.prev { left: 10px; }
.next { right: 10px; }

.hidden { display: none; }

.breed-list { margin-top: 12px; font-weight: bold; }
</style>
</head>

<body>

<div class="header">
  <h2>寵物配對測驗</h2>
  <button id="modeToggle">深色模式</button>
</div>

<div class="container">

  <!-- 初始首頁 -->
  <div id="startPage" class="card">
    <h2>開始你的寵物適配測驗</h2>
    <p>透過簡單問題，找出最符合你生活方式的狗狗類型。</p>

    <h3 style="margin-top:22px;">本測驗的四種類型：</h3>

    <div class="grid">
      <div class="type-box">
        <strong>活力運動型</strong>
        <p>喜歡跑跳，活動量高，適合喜歡運動的人。</p>
      </div>
      <div class="type-box">
        <strong>親人溫和型</strong>
        <p>溫和親人，喜歡互動，適合需要陪伴的人。</p>
      </div>
      <div class="type-box">
        <strong>安靜獨立型</strong>
        <p>安靜、不黏人，適合生活忙碌的人。</p>
      </div>
      <div class="type-box">
        <strong>穩定中庸型</strong>
        <p>性格平衡，適應力高，照顧需求中等。</p>
      </div>
    </div>

    <button style="margin-top:24px;" onclick="startTest()">開始測驗</button>
  </div>

  <!-- 題目頁 -->
  <div id="questionPage" class="card hidden">
    <h3 id="questionText"></h3>
    <div id="options"></div>
  </div>

  <!-- 結果頁 -->
  <div id="resultPage" class="card hidden">
    <h2 id="resultTitle"></h2>
    <p id="resultDesc"></p>
    <div id="breedNames" class="breed-list"></div>

    <div class="carousel-container">
      <div id="carouselTrack" class="carousel-track"></div>
      <div class="carousel-btn prev" onclick="prevImg()">‹</div>
      <div class="carousel-btn next" onclick="nextImg()">›</div>
    </div>

    <button style="margin-top:24px;" onclick="restart()">重新測驗</button>
  </div>

</div>

<script>
/* 深色模式切換 */
document.getElementById("modeToggle").onclick = () => {
  document.body.classList.toggle("dark-mode");
  document.getElementById("modeToggle").textContent =
    document.body.classList.contains("dark-mode") ? "亮色模式" : "深色模式";
};

/* 題目資料 */
const questions = [
  { text: "你的生活步調最接近？",
    options: [
      { text: "非常活躍", type: "active" },
      { text: "適中穩定", type: "balanced" },
      { text: "安靜沉穩", type: "quiet" },
      { text: "親和、偏向陪伴型", type: "gentle" }
    ]
  },
  { text: "你每天能提供的陪伴時間？",
    options: [
      { text: "超過 3–4 小時", type: "gentle" },
      { text: "2 小時左右", type: "balanced" },
      { text: "1 小時以內", type: "quiet" },
      { text: "願意安排額外運動時間", type: "active" }
    ]
  },
  { text: "你偏好狗狗的性格？",
    options: [
      { text: "聰明好動，願意訓練", type: "active" },
      { text: "溫和親人，適合互動", type: "gentle" },
      { text: "安靜獨立，不太吵鬧", type: "quiet" },
      { text: "中間，沒有特別偏向", type: "balanced" }
    ]
  }
];

/* 結果資料 */
const results = {
  active: {
    title: "活力運動型狗狗",
    desc: "需要大量運動與戶外活動，適合喜歡運動的人。",
    breeds: [
      {name: "黃金獵犬", images:[
        "https://cdn.pixabay.com/photo/2015/03/26/09/41/golden-retriever-690176_1280.jpg",
        "https://cdn.pixabay.com/photo/2016/02/10/17/48/golden-retriever-1195785_1280.jpg"
      ]},
      {name: "拉布拉多", images:[
        "https://cdn.pixabay.com/photo/2017/09/25/13/11/labrador-2785074_1280.jpg",
        "https://cdn.pixabay.com/photo/2018/06/22/21/06/labrador-3499919_1280.jpg"
      ]},
      {name: "邊境牧羊犬", images:[
        "https://cdn.pixabay.com/photo/2017/09/25/13/12/border-collie-2785077_1280.jpg",
        "https://cdn.pixabay.com/photo/2015/02/23/22/44/border-collie-646353_1280.jpg"
      ]}
    ]
  },
  gentle: {
    title: "親人溫和型狗狗",
    desc: "親和力高、容易建立感情，適合需要陪伴的人。",
    breeds: [
      {name:"柯基", images:[
        "https://cdn.pixabay.com/photo/2017/09/25/13/12/corgi-2785075_1280.jpg",
        "https://cdn.pixabay.com/photo/2019/12/03/23/25/welsh-corgi-4675265_1280.jpg"
      ]},
      {name:"可卡犬", images:[
        "https://cdn.pixabay.com/photo/2018/06/11/15/11/american-cocker-spaniel-3475924_1280.jpg",
        "https://cdn.pixabay.com/photo/2017/08/02/14/25/cocker-2582031_1280.jpg"
      ]},
      {name:"馬爾濟斯", images:[
        "https://cdn.pixabay.com/photo/2019/01/04/14/19/maltese-3911093_1280.jpg",
        "https://cdn.pixabay.com/photo/2018/03/27/19/42/maltese-3266201_1280.jpg"
      ]}
    ]
  },
  quiet: {
    title: "安靜獨立型狗狗",
    desc: "照顧需求低，不黏人、安靜，適合忙碌的人。",
    breeds: [
      {name:"西施犬", images:[
        "https://cdn.pixabay.com/photo/2016/02/19/10/00/dog-1207816_1280.jpg",
        "https://cdn.pixabay.com/photo/2017/09/25/13/12/shih-tzu-2785076_1280.jpg"
      ]},
      {name:"法國鬥牛犬", images:[
        "https://cdn.pixabay.com/photo/2018/03/08/12/06/french-bulldog-3208917_1280.jpg",
        "https://cdn.pixabay.com/photo/2018/11/18/20/57/french-bulldog-3823386_1280.jpg"
      ]},
      {name:"巴哥犬", images:[
        "https://cdn.pixabay.com/photo/2018/09/05/09/51/pug-3652136_1280.jpg",
        "https://cdn.pixabay.com/photo/2018/02/22/20/00/pug-3174559_1280.jpg"
      ]}
    ]
  },
  balanced: {
    title: "穩定中庸型狗狗",
    desc: "活動量與性格均衡，適應力高。",
    breeds: [
      {name:"柴犬", images:[
        "https://cdn.pixabay.com/photo/2017/09/25/13/12/shiba-inu-2785080_1280.jpg",
        "https://cdn.pixabay.com/photo/2018/05/08/20/39/shiba-3386044_1280.jpg"
      ]},
      {name:"比熊", images:[
        "https://cdn.pixabay.com/photo/2017/09/25/13/12/bichon-frise-2785081_1280.jpg",
        "https://cdn.pixabay.com/photo/2019/03/11/08/06/bichon-frise-4049567_1280.jpg"
      ]},
      {name:"史賓格犬", images:[
        "https://cdn.pixabay.com/photo/2017/09/25/13/12/springer-spaniel-2785082_1280.jpg",
        "https://cdn.pixabay.com/photo/2016/02/18/18/33/springer-spaniel-1209287_1280.jpg"
      ]}
    ]
  }
};

let index = 0;
let scores = { active:0, gentle:0, quiet:0, balanced:0 };

/* 開始測驗 */
function startTest() {
  document.getElementById("startPage").classList.add("hidden");
  document.getElementById("questionPage").classList.remove("hidden");
  loadQuestion();
}

function loadQuestion() {
  const q = questions[index];
  document.getElementById("questionText").textContent = q.text;
  const optDiv = document.getElementById("options");
  optDiv.innerHTML = "";
  q.options.forEach(o => {
    const btn = document.createElement("button");
    btn.textContent = o.text;
    btn.style.display = "block";
    btn.style.margin = "12px 0";
    btn.onclick = () => choose(o.type);
    optDiv.appendChild(btn);
  });
}

function choose(type) {
  scores[type]++;
  index++;
  if(index >= questions.length) showResult();
  else loadQuestion();
}

/* 結果頁 Carousel */
let currentImg = 0;
let imageList = [];

function showResult() {
  document.getElementById("questionPage").classList.add("hidden");
  document.getElementById("resultPage").classList.remove("hidden");

  const finalType = Object.keys(scores).reduce((a,b)=>scores[a]>scores[b]?a:b);
  const r = results[finalType];

  document.getElementById("resultTitle").textContent = r.title;
  document.getElementById("resultDesc").textContent = r.desc;

  // 列出品種名稱
  const breedNames = r.breeds.map(b => b.name).join("、");
  document.getElementById("breedNames").textContent = "品種：" + breedNames;

  // Carousel 圖片
  const track = document.getElementById("carouselTrack");
  track.innerHTML = "";
  imageList = [];

  let addedImgs = new Set(); // 避免重複

  r.breeds.forEach(breed=>{
    breed.images.forEach(imgUrl=>{
      if(!addedImgs.has(imgUrl)){
        const item = document.createElement("div");
        item.className="carousel-item";

        const img = document.createElement("img");
        img.src=imgUrl;
        img.className="carousel-image";

        const label = document.createElement("div");
        label.className="carousel-label";
        label.textContent=breed.name;

        item.appendChild(img);
        item.appendChild(label);
        track.appendChild(item);
        imageList.push(item);

        addedImgs.add(imgUrl);
      }
    });
  });

  currentImg = 0;
  updateCarousel();
}

function updateCarousel() {
  const track = document.getElementById("carouselTrack");
  track.style.transform = `translateX(-${currentImg*100}%)`;
}

function prevImg() {
  currentImg = (currentImg - 1 + imageList.length) % imageList.length;
  updateCarousel();
}

function nextImg() {
  currentImg = (currentImg + 1) % imageList.length;
  updateCarousel();
}

/* 手機滑動 */
let startX = 0;
document.getElementById("carouselTrack").addEventListener("touchstart", e=>{ startX=e.touches[0].clientX; });
document.getElementById("carouselTrack").addEventListener("touchend", e=>{
  let endX = e.changedTouches[0].clientX;
  if(endX-startX>50) prevImg();
  if(startX-endX>50) nextImg();
});

function restart() {
  index = 0;
  scores = { active:0, gentle:0, quiet:0, balanced:0 };
  document.getElementById("resultPage").classList.add("hidden");
  document.getElementById("startPage").classList.remove("hidden");
}
</script>

</body>
</html>



   
